# –£–ª—É—á—à–µ–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Nikita

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í –ø—Ä–æ–µ–∫—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–ª—É–∂–±—ã –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∂—É—Ä–Ω–∞–ª–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ 1–°. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1.1 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ ClickHouse

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/parser.py::send_to_clickhouse`

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- ‚è± **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–∑–º–µ—Ä—è–µ—Ç—Å—è —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
- üìä **–°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∑–∞–ø–∏—Å–µ–π/—Å–µ–∫—É–Ω–¥—É
- ‚úì **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ò–º—è –±–∞–∑—ã, —Ç–∞–±–ª–∏—Ü—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- ‚úó **–ü–æ–ª–Ω—ã–π traceback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö**: –î–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
- üìà **–°—á—ë—Ç—á–∏–∫ —Å–µ—Å—Å–∏–∏**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞
- üéØ **–ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Å–∂–∞—Ç–∏–µ–º

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏**:
```
2025-12-05 11:53:11.242833:::lgp parser:::‚Üí CLICKHOUSE: –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –ø–∞–∫–µ—Ç–∞ –¥–ª—è –±–∞–∑—ã 'PROD_ZUP' (–∑–∞–ø–∏—Å–µ–π: 200)
2025-12-05 11:53:11.281697:::lgp parser:::‚úì CLICKHOUSE: –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ 200 –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü—É zhr1c.PROD_ZUP
2025-12-05 11:53:11.281697:::lgp parser:::‚úì CLICKHOUSE: –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 0.016 —Å–µ–∫ (12451.5 –∑–∞–ø–∏—Å–µ–π/—Å–µ–∫)
2025-12-05 11:53:11.281697:::lgp parser:::‚úì CLICKHOUSE: –í—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞ —Å–µ—Å—Å–∏—é: 1096 –∑–∞–ø–∏—Å–µ–π
```

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏**:
```
2025-12-05 12:05:33.123456:::lgp parser:::‚úó CLICKHOUSE: –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: Connection timeout
2025-12-05 12:05:33.123456:::lgp parser:::‚úó CLICKHOUSE: Traceback:
  File "src/parser.py", line 456, in send_to_clickhouse
    self.chclient.execute(query, batch)
  clickhouse_driver.errors.NetworkError: Code: 210. Connection timeout
```

### 1.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Solr

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/parser.py::send_to_solr`

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- ‚è± –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- üìä –í—ã–≤–æ–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∑–∞–ø–∏—Å–µ–π/—Å–µ–∫)
- üìà –°—á—ë—Ç—á–∏–∫–∏ —É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- ‚úó –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–æ—à–∏–±–æ–∫ (–∫–æ–¥—ã –æ—Ç–≤–µ—Ç–∞, —Å–æ–æ–±—â–µ–Ω–∏—è)
- üîÑ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 1.3 –£–ª—É—á—à–µ–Ω–∏–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/parser.py::post_query`

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- üîç –ü–æ—à–∞–≥–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π —Å—Ç–∞–¥–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úì/‚úó –Ø–≤–Ω—ã–µ –æ—Ç–º–µ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- üîÑ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å Redis (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
- üì¶ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–µ–π –∏ —á–∞—Å—Ç–æ—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏

---

## 2. –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/globals.py::stats`

–ù–æ–≤—ã–π –∫–ª–∞—Å—Å `g.stats` —Å–æ–±–∏—Ä–∞–µ—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å–ª—É–∂–±—ã.

### 2.1 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ClickHouse

```python
g.stats.clickhouse_total_sent           # –í—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π (int)
g.stats.clickhouse_total_errors         # –í—Å–µ–≥–æ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ (int)
g.stats.clickhouse_last_success_time    # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (datetime)
g.stats.clickhouse_last_error_time      # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏ (datetime)
g.stats.clickhouse_last_error_msg       # –¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏ (str)
g.stats.clickhouse_connection_ok        # –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (bool)
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**: –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏.

### 2.2 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Solr

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø–æ–ª—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `solr_*`:
```python
g.stats.solr_total_sent                 # –í—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π
g.stats.solr_total_errors               # –í—Å–µ–≥–æ –æ—à–∏–±–æ–∫
g.stats.solr_last_success_time          # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
g.stats.solr_last_error_time            # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏
g.stats.solr_last_error_msg             # –¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏
g.stats.solr_connection_ok              # –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### 2.3 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Redis

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø–æ–ª—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `redis_*`, –ø–ª—é—Å:
```python
g.stats.redis_total_queued              # –í—Å–µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å
g.stats.redis_queue_size                # –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
```

### 2.4 –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
g.stats.start_time                      # –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ —Å–ª—É–∂–±—ã (datetime)
g.stats.total_records_parsed            # –í—Å–µ–≥–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π (int)
g.stats.last_errors                     # –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –æ—à–∏–±–æ–∫
                                        # –§–æ—Ä–º–∞—Ç: [(datetime, —Ç–∏–ø, —Å–æ–æ–±—â–µ–Ω–∏–µ), ...]
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–±-–ø–∞–Ω–µ–ª—å—é –∏ JSON API –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ª—É–∂–±—ã.

---

## 3. –í–µ–±-–ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/cherry.py::index`

### 3.1 –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω

- üé® **Material Design** —Å—Ç–∏–ª—å —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ç–µ–Ω—è–º–∏
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üîÑ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- üåà **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: –ó–µ–ª—ë–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### –ó–∞–≥–æ–ª–æ–≤–æ–∫ (Header)
- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª—É–∂–±—ã: **Nikita / Nikita**
- –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫: **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–ª—É–∂–±—ã –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∂—É—Ä–Ω–∞–ª–æ–≤ 1–°**
- **Uptime**: –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ (—Ñ–æ—Ä–º–∞—Ç: `2—á 15–º 30—Å`)
- **–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
1. **ClickHouse** / **Solr** / **Redis**: –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å —ç–º–æ–¥–∑–∏-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
2. **–•–æ—Å—Ç**: –ê–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
3. **–ë–î**: –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è ClickHouse)
4. **–ó–∞–ø–∏—Å–µ–π**: –°—á—ë—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞
5. **–û—à–∏–±–æ–∫**: –°—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–°—Ç–∞—Ç—É—Å—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:
- üü¢ **–ü–æ–¥–∫–ª—é—á–µ–Ω–æ** ‚Äî —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- üî¥ **–û—à–∏–±–∫–∞** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- **–û—Ç–∫–ª—é—á–µ–Ω–æ** ‚Äî —Å–µ—Ä–≤–∏—Å –≤—ã–∫–ª—é—á–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –ë–ª–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—à–∏–±–æ–∫

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –æ—à–∏–±–æ–∫ —Å:
- üïê –í—Ä–µ–º–µ–Ω–µ–º –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è
- üîß –¢–∏–ø–æ–º —Å–µ—Ä–≤–∏—Å–∞ (ClickHouse/Solr/Redis)
- üìù –ö—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏

–ï—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ù–µ—Ç –æ—à–∏–±–æ–∫".

#### –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –±–∞–∑ 1–°

–¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –±–∞–∑:
- **–ò–º—è –±–∞–∑—ã**: –ù–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã
- **–ü—É—Ç—å**: –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –∂—É—Ä–Ω–∞–ª–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–§–æ—Ä–º–∞—Ç**: `lgf` (—Å—Ç–∞—Ä—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π) –∏–ª–∏ `lgd` (SQLite)
- **–†–∞–∑–º–µ—Ä**: –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∂—É—Ä–Ω–∞–ª–æ–≤ (–≤ –ú–ë/–ì–ë)
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ**: –û–±—ä—ë–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: –ü—Ä–æ—Ü–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä)

---

## 4. JSON API –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**Endpoint**: `GET /stats_api`  
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/cherry.py::stats_api`

### 4.1 –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```json
{
  "uptime_seconds": 3661,
  "uptime_formatted": "1—á 1–º 1—Å",
  "total_records_parsed": 0,
  "clickhouse": {
    "enabled": true,
    "host": "localhost",
    "port": 9000,
    "database": "zhr1c",
    "connection_ok": true,
    "total_sent": 1096,
    "total_errors": 0,
    "last_success_time": "2025-12-05T11:53:11.281697",
    "last_error_time": null,
    "last_error_msg": ""
  },
  "solr": {
    "enabled": false
  },
  "redis": {
    "enabled": false
  },
  "last_errors": [
    {
      "time": "2025-12-05T11:45:20.123456",
      "type": "ClickHouse",
      "message": "Connection timeout"
    }
  ],
  "databases": [
    {
      "name": "PROD_ZUP",
      "path": "/home/usr1cv8/.1cv8/1C/1cv8/reg_1541/uuid/1Cv8Log",
      "format": "lgd",
      "total_size": 1048576,
      "parsed_size": 856432,
      "percent": 81.67
    }
  ]
}
```

### 4.2 –ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞

#### –û–±—â–∏–µ –ø–æ–ª—è
- `uptime_seconds` (int): –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `uptime_formatted` (str): –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –≤ —á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- `total_records_parsed` (int): –í—Å–µ–≥–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π

#### –°–µ–∫—Ü–∏—è `clickhouse` (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
- `enabled` (bool): –í–∫–ª—é—á–µ–Ω –ª–∏ —Å–µ—Ä–≤–∏—Å
- `host` (str): –•–æ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `port` (int): –ü–æ—Ä—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `database` (str): –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `connection_ok` (bool): –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `total_sent` (int): –í—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π
- `total_errors` (int): –í—Å–µ–≥–æ –æ—à–∏–±–æ–∫
- `last_success_time` (str|null): ISO-—Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- `last_error_time` (str|null): ISO-—Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏
- `last_error_msg` (str): –¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏

#### –°–µ–∫—Ü–∏—è `solr` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ ClickHouse)

#### –°–µ–∫—Ü–∏—è `redis` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ ClickHouse)

#### –ú–∞—Å—Å–∏–≤ `last_errors`
–°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –æ—à–∏–±–æ–∫:
```json
{
  "time": "2025-12-05T12:00:00.000000",
  "type": "ClickHouse",
  "message": "Connection refused"
}
```

#### –ú–∞—Å—Å–∏–≤ `databases`
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –±–∞–∑ 1–°:
```json
{
  "name": "PROD_ZUP",
  "path": "/path/to/log",
  "format": "lgd",
  "total_size": 1048576,
  "parsed_size": 524288,
  "percent": 50.0
}
```

### 4.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ JSON API

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus

```python
from prometheus_client import Gauge
import requests

clickhouse_sent = Gauge('nikita_clickhouse_sent', 'Records sent')

stats = requests.get('http://localhost:8984/stats_api').json()
clickhouse_sent.set(stats['clickhouse']['total_sent'])
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Zabbix

```bash
#!/bin/bash
case "$1" in
    clickhouse.sent)
        curl -s http://localhost:8984/stats_api | jq '.clickhouse.total_sent'
        ;;
    clickhouse.connection)
        curl -s http://localhost:8984/stats_api | jq '.clickhouse.connection_ok' | sed 's/true/1/;s/false/0/'
        ;;
esac
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Grafana

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Prometheus –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –¥–∞—à–±–æ—Ä–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫.

---

## 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `Nikita.py::start_all`

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–ª—É–∂–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:
```python
from datetime import datetime
g.stats.start_time = datetime.now()
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å uptime —Å–ª—É–∂–±—ã —Å –º–æ–º–µ–Ω—Ç–∞ —Å—Ç–∞—Ä—Ç–∞.

---

## 6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ ClickHouse —Å—Ç—Ä—É–∫—Ç—É—Ä

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `src/parser.py::__init__`, `src/parser.py::send_to_clickhouse`

### 6.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Å–∂–∞—Ç–∏–µ–º:
```sql
CREATE DATABASE IF NOT EXISTS zhr1c
ENGINE = Atomic
COMMENT '–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∂—É—Ä–Ω–∞–ª–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ 1–° —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Å–∂–∞—Ç–∏–µ–º'
```

### 6.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

–î–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã 1–° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π:

```sql
CREATE TABLE IF NOT EXISTS zhr1c.PROD_ZUP (
    DateTime                DateTime64(6)               CODEC(Delta, ZSTD(1)),
    TransactionStatus       LowCardinality(String)      CODEC(ZSTD(1)),
    TransactionDate         Nullable(DateTime64(6))     CODEC(Delta, ZSTD(1)),
    TransactionID           Nullable(Int64)             CODEC(ZSTD(1)),
    UserUUID                Nullable(UUID)              CODEC(ZSTD(1)),
    User                    LowCardinality(String)      CODEC(ZSTD(1)),
    Computer                LowCardinality(String)      CODEC(ZSTD(1)),
    Application             LowCardinality(String)      CODEC(ZSTD(1)),
    Connection              Nullable(Int32)             CODEC(ZSTD(1)),
    Event                   LowCardinality(String)      CODEC(ZSTD(1)),
    Level                   LowCardinality(String)      CODEC(ZSTD(1)),
    Comment                 String                      CODEC(ZSTD(1)),
    MetadataUUID            Nullable(UUID)              CODEC(ZSTD(1)),
    Metadata                String                      CODEC(ZSTD(1)),
    Data                    String                      CODEC(ZSTD(1)),
    DataPresentation        String                      CODEC(ZSTD(1)),
    WorkServer              LowCardinality(String)      CODEC(ZSTD(1)),
    PrimaryPort             Nullable(Int32)             CODEC(ZSTD(1)),
    SecondaryPort           Nullable(Int32)             CODEC(ZSTD(1)),
    Session                 Nullable(Int32)             CODEC(ZSTD(1))
)
ENGINE = MergeTree()
PARTITION BY toYYYYMM(DateTime)
ORDER BY (DateTime, Event)
TTL DateTime + INTERVAL 365 DAY
SETTINGS index_granularity = 8192
COMMENT '–ñ—É—Ä–Ω–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ 1–° –¥–ª—è –±–∞–∑—ã PROD_ZUP'
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å—Ö–µ–º—ã**:
- üì¶ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–æ–¥–µ–∫ ZSTD(1) –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- üìÖ **–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ –º–µ—Å—è—Ü–∞–º –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä—ë–º–∞–º–∏
- üîç **–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚è± **TTL**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä—à–µ 365 –¥–Ω–µ–π (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- üéØ **LowCardinality**: –î–ª—è —á–∞—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–Ω–∞—á–µ–Ω–∏–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–æ–±—ã—Ç–∏—è)
- üî¢ **Delta –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ (DateTime64)

---

## 7. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 7.1 –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–µ–±-–ø–∞–Ω–µ–ª–∏

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
```
http://localhost:8984/
```

–ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ö–æ—Å—Ç–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```
http://<HTTP_LISTEN_INTERFACE>:<HTTP_LISTEN_PORT>/
```

### 7.2 –ü–æ–ª—É—á–µ–Ω–∏–µ JSON —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å**:
```bash
curl http://localhost:8984/stats_api
```

**–° —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º (—á–µ—Ä–µ–∑ jq)**:
```bash
curl -s http://localhost:8984/stats_api | jq .
```

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**:
```bash
# –°—Ç–∞—Ç—É—Å ClickHouse
curl -s http://localhost:8984/stats_api | jq '.clickhouse.connection_ok'

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
curl -s http://localhost:8984/stats_api | jq '.clickhouse.total_sent'

# –°–ø–∏—Å–æ–∫ –±–∞–∑
curl -s http://localhost:8984/stats_api | jq '.databases[].name'
```

### 7.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

**–í—Å–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
```bash
tail -f /opt/Nikita/debug/Nikita.*.log
```

**–¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏**:
```bash
tail -f /opt/Nikita/debug/Nikita.*.log | grep "‚úó"
```

**–¢–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
```bash
tail -f /opt/Nikita/debug/Nikita.*.log | grep "‚úì"
```

**–¢–æ–ª—å–∫–æ ClickHouse –æ–ø–µ—Ä–∞—Ü–∏–∏**:
```bash
tail -f /opt/Nikita/debug/Nikita.*.log | grep "CLICKHOUSE"
```

---

## 8. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
‚úÖ **–û—Ç–ª–∞–¥–∫–∞**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å traceback –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –í–µ–±-–ø–∞–Ω–µ–ª—å –∏ JSON API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏  
‚úÖ **–ò—Å—Ç–æ—Ä–∏—è**: –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –æ—à–∏–±–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞  
‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –Ø–≤–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–∏—Å–∞–º  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –ë–î –∏ —Ç–∞–±–ª–∏—Ü, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ ClickHouse  

---

## 9. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- ‚úÖ –°—Ç–∞—Ä—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç
- ‚úÖ –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ `g.stats` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤—ã–≤–æ–¥–∏—Ç—Å—è "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö" –≤–º–µ—Å—Ç–æ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã

---

## 10. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å** (—Ö–æ—Ç—è –±—ã —Ä–∞–∑ –≤ –¥–µ–Ω—å) –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ª—É–∂–±—ã
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —á–µ—Ä–µ–∑ JSON API (Prometheus/Zabbix)
3. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏** –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –≤ –±–ª–æ–∫–µ "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏"
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** (–∑–∞–ø–∏—Å–µ–π/—Å–µ–∫) –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ª–æ–≥–æ–≤** (`grep`) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
6. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞–∑** –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –±–∞–∑"

---

*–°–æ–∑–¥–∞–Ω–æ: 2025-12-05*  
*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-12-05*  
*–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: Nikita Service Development Team*
